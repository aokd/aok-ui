import React from 'react'

export class Docs extends React.PureComponent {

  renderDemos () {
    const demos =  require.context('./demos', true, /\.md$/)
      .keys()
      .map((path) => {
        const entirePath = `./demos/${path.substring(2)}`
        const Sample = require(`${entirePath}`).source

        return (
          <React.Fragment key={ path }>
            <Sample/>
            <div dangerouslySetInnerHTML={{ __html: require(`${entirePath}`).rendered }}/>
          </React.Fragment>
        )
      })
    return demos
  }

  render () {
    console.info(`<%= api %>`)
    return (
      <React.Fragment>
        { this.renderDemos() }
        <%= api %>
      </React.Fragment>
    )
  }
}
